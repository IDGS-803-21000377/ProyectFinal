<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Galletas Gourmet</title>

  <!-- Tailwind CSS + Flowbite -->
  <link rel="stylesheet" href="{{ url_for('static', filename='dist/css/output.css') }}">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/flowbite@2.3.0/dist/flowbite.min.js"></script>

  <!-- Tailwind personalizado -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            principal: '#008C72'
          }
        }
      }
    }
  </script>
</head>

<body class="bg-[#d4f5ec] min-h-screen text-gray-800 font-sans flex flex-col">

  <!-- NAVBAR -->
  <nav class="bg-white border-b border-gray-200 w-full z-20 top-0 start-0 shadow-sm fixed">
    <div class="max-w-screen-xl mx-auto px-4 py-3 flex items-center justify-between">

      <!-- Logo -->
      <a class="flex items-center space-x-2">
        <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo" class="h-14 w-14 rounded-full">
        <span class="text-xl font-bold text-principal">Gourmet Cookies</span>
      </a>
      

      <!-- Botón responsive -->
      <button data-collapse-toggle="mobile-menu" type="button" class="md:hidden text-gray-500 hover:text-principal focus:outline-none" aria-controls="mobile-menu" aria-expanded="false">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
      </button>

      <!-- Menú principal -->
      <div class="hidden md:flex items-center space-x-4" id="mobile-menu">
        <ul class="flex space-x-4 text-sm font-medium items-center">

          <li><a href="/index" class="px-2 py-1 text-principal hover:underline">Inicio</a></li>

          <li class="relative group">
            <div class="flex flex-col">
              <a href="#" class="px-2 py-1 flex items-center hover:text-principal">
                Recetas
                <svg class="ml-1 w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M5.5 7L10 11.5 14.5 7h-9z"/></svg>
              </a>
              <div class="absolute invisible group-hover:visible opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10 mt-1 w-44 bg-white rounded-md shadow-lg">
                <ul class="py-1">
                  <li><a href="{{ url_for('recetas.nueva_receta') }}" class="block px-4 py-2 text-sm hover:bg-gray-100">Crear Receta</a></li>
                  <li><a href="{{ url_for('recetas.ver_recetas') }}" class="block px-4 py-2 text-sm hover:bg-gray-100">Ver Recetas</a></li>
                </ul>
              </div>
            </div>
          </li>

          <li><a href="{{ url_for('produccion.vista_produccion') }}" class="px-2 py-1 hover:text-principal">Producción</a></li>

          <li class="relative group">
            <div class="flex flex-col">
              <a href="#" class="px-2 py-1 flex items-center hover:text-principal">
                Proveedores
                <svg class="ml-1 w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M5.5 7L10 11.5 14.5 7h-9z"/></svg>
              </a>
              <div class="absolute invisible group-hover:visible opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10 mt-1 w-56 bg-white rounded-md shadow-lg">
                <ul class="py-1">
                  <li><a href="{{ url_for('proveedores.listar_proveedores') }}" class="block px-4 py-2 text-sm hover:bg-gray-100">Ver Proveedores</a></li>
                  <li><a href="{{ url_for('materiales.ver_solicitudes') }}" class="block px-4 py-2 text-sm hover:bg-gray-100">Solicitudes de Material</a></li>
                </ul>
              </div>
            </div>
          </li>

          <li class="relative group">
            <div class="flex flex-col">
              <a href="#" class="px-2 py-1 flex items-center hover:text-principal">
                Usuarios
                <svg class="ml-1 w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M5.5 7L10 11.5 14.5 7h-9z"/></svg>
              </a>
              <div class="absolute invisible group-hover:visible opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10 mt-1 w-44 bg-white rounded-md shadow-lg">
                <ul class="py-1">
                  <li><a href="{{ url_for('auth.crear_usuario') }}" class="block px-4 py-2 text-sm hover:bg-gray-100">Nuevo Usuario</a></li>
                  <li><a href="{{ url_for('auth.listar_usuarios') }}" class="block px-4 py-2 text-sm hover:bg-gray-100">Ver Usuarios</a></li>
                </ul>
              </div>
            </div>
          </li>

          <li><a href="/inventario/productos" class="px-2 py-1 hover:text-principal">Galletas</a></li>
          <li><a href="/materiales" class="px-2 py-1 hover:text-principal">Materiales</a></li>
          <li><a href="/ventas" class="px-2 py-1 hover:text-principal">Ventas</a></li>
          <li><a href="/dashboard/" class="px-2 py-1 hover:text-principal">Dashboard</a></li>
        </ul>

        <!-- Botón cerrar sesión -->
        <a href="/logout" class="ml-4 text-white bg-principal hover:bg-emerald-800 focus:ring-4 focus:ring-emerald-300 font-medium rounded-lg text-sm px-4 py-2 text-center transition">
          Cerrar sesión
        </a>
      </div>
    </div>
  </nav>

  <!-- Separador debajo del nav -->
  <div class="w-full h-[1px] bg-principal mt-16"></div>

  <!-- CONTENIDO PRINCIPAL -->
  <main class="container mx-auto px-4 py-10 flex-grow">
    {% block container %}{% endblock %}
  </main>

  <!-- FOOTER -->
  <footer class="bg-principal text-white text-center py-4 mt-auto">
    <p class="text-sm">&copy; 2025 Galletas Gourmet. Todos los derechos reservados.</p>
  </footer>

</body>
</html>
